<html>
<head>
    <title>IPv4</title>
    <script type="text/javascript">
        
        var cont=0
        var rede
        var host;
        
        function vTam (object) {
        if (object.value.length > object.maxLength){
            object.value = object.value.slice(0, object.maxLength);
            }
        }
        
        function guarda()
        {
            localStorage.setItem(cont, oc1.value*1000000000 + oc2.value*1000000 + oc3.value*1000 + oc4.value*1);
            cont=cont+1;
            alert("Item adicionado.");
            oc1.value = oc2.value = oc3.value = oc4.value = "";
        }
        
        function resultado()
        {
            if(oc1.value < 128){
                rede = oc1.value;
                host = oc2.value + "." + oc3.value + "." + oc4.value;
                mascara.value = "255" + "." + host;
                broadcast.value = rede + "." + "255.255.255";
                end1.value = rede + "." + "0" + "." + "0" + "." + "1";
                endFin.value = rede + "." + "255" + "." + "255" + "." + "254";
            }
            else if (oc1.value < 192){
                rede = oc1.value + "." + oc2.value;
                host = oc3.value + "." + oc4.value;
                mascara.value = "255.255" + "." + host;
                broadcast.value = rede + "." + "255.255";
                end1.value = rede + "." + "0" + "." + "1";
                endFin.value = rede + "." + "255" + "." + "254";
            }
            else if (oc1.value < 224){
                rede = oc1.value + "." + oc2.value + "." + oc3.value;
                host = oc4.value;
                mascara.value = "255.255.255" + "." + host;
                broadcast.value = rede + "." + "255";
                end1.value = rede + "." + "1";
                endFin.value = rede + "." + "254";
            }
            else alert("QQ TU TÁ APRONTANDO??");
        }
        
        function converte(oct)
        {
            
        }

    </script>
</head>
<head>
    <title>IPv4</title>
</head>
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono|Rubik:300,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/style.css">
<body>
    <header class="header">
        <h1>Calculadora ip</h1>
    </header>
    <h5>(suporta classes a, b, c e sub-redes)</h5>
    <form method="get" autocomplete="off">
        <div style="text-align:center">
        Digite o IP:
        <input oninput="vTam(this)" type="number" id="oc1" min="0" max="223" maxlength="3" placeholder="0 - 223"/> <b>.</b>
        <input oninput="vTam(this)" type="number" id="oc2" min="0" max="255" maxlength="3" placeholder="0 - 255"/> <b>.</b>
        <input oninput="vTam(this)" type="number" id="oc3" min="0" max="255" maxlength="3" placeholder="0 - 255"/> <b>.</b>
        <input oninput="vTam(this)" type="number" id="oc4" min="0" max="255" maxlength="3" placeholder="0 - 255"/> <!--<b>/</b>
        <input oninput="vTam(this)" type="number" id="sub" min="0" max="254" maxlength="3" placeholder="0 - 252"/> <b>.</b>-->
        <input type="reset" value="Apagar"/>
    </div>
    </form>

    <button class="button" onclick="resultado()">Resultado</button>
    <button onclick="guarda()">Guardar</button>
    <br><br>
    <br><br>
    <h2>Resultados:</h2>
    <form>
        <input type="checkbox" onclick="converte()"/>
        <input type="text" size="10" id="mascara" placeholder="255.255.255.0"/>-> Máscara de rede<br><br> 
        <input type="checkbox" onclick="converte()"/>
        <input type="text" size="10" id="broadcast" placeholder="xxx.yyy.zzz.255"/>-> Broadcast<br><br>
        <input type="checkbox" onclick="converte()"/>
        <input type="text" size="10" id="end1" placeholder="xxx.yyy.zzz.1"/>-> Primeiro endereço utilizável <br><br>
        <input type="checkbox" onclick="converte()"/>
        <input type="text" size="10" id="endFin" placeholder="xxx.yyy.zzz.254"/>-> Ultimo endereço utilizável <br><br>
    </form>
</body>
</html>